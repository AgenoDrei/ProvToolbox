<installation version="5.0">
  <info>
    <appname>provconvert</appname>
    <appversion>${project.version}</appversion>
    <url>https://github.com/lucmoreau/ProvToolbox</url>
    <authors>
      <author name="Luc Moreau" email="l.moreau@ecs.soton.ac.uk"/>
    </authors>
  </info>
  <guiprefs height="400" resizable="no" width="640">
    <modifier key="useButtonIcons" value="yes"/>
    <modifier key="useLabelIcons" value="no"/>
    <modifier key="labelGap" value="2"/>
    <modifier key="layoutAnchor" value="NORTHWEST"/>
    <modifier key="useHeadingPanel" value="no"/>
    <modifier key="headingImageOnLeft" value="yes"/>
    <modifier key="headingLineCount" value="1"/>
    <modifier key="headingFontSize" value="1.5"/>
    <modifier key="headingBackgroundColor" value="0x00ffffff"/>
    <modifier key="headingPanelCounter" value="progressbar"/>
    <modifier key="headingPanelCounterPos" value="inNavigationPanel"/>
  </guiprefs>
  <locale>
    <langpack iso3="eng"/>
  </locale>
  <resources>
    <res id="LicencePanel.licence" src="license.txt"/>
    <res id="InfoPanel.info" src="Readme.txt"/>
    <res id="HTMLHelloPanel.welcome" src="welcome.html"/>
    <res id="HTMLInfoPanel.welcome" src="welcome.html"/>
    <res id="IZPackLogo" src="izpack-logo-medium.png"/>
    <res id="Installer.image" src="graph1447.png"/>
  </resources>
  <variables>
    <variable name="InstallerFrame.logfilePath" value="Default"/>
    <variable name="WELCOME_TEXT" value="provconvert installer"/>
    <variable name="WELCOME_VERSION" value="Version: $APP_VER"/>
    <variable name="TargetPanel.dir.windows" value="/usr/local/provconvert"/>
    <variable name="TargetPanel.dir.unix" value="/usr/local/provconvert"/>
    <variable name="TargetPanel.dir.macosx" value="/usr/local/provconvert"/>
  </variables>
  <!-- pull in the built jar file for our custom panel 
  <jar src="custom/izpack-panels.jar" stage="both"/>-->
  <panels>
    <!-- FIXME why doesn't HTMLHelloPanel work any more?  it is nice not to have the "Please read the following information" text ... -->
    <panel classname="HTMLInfoPanel" id="welcome"/>
    <!-- this is our custom panel, loaded from the izpack-panels.jar file 
    <panel classname="com.izforge.izpack.panels.mypanels.MyHelloPanel" id="myHello"/>-->
    <panel classname="TargetPanel" id="install_dir"/>
    <panel classname="PacksPanel" id="sdk_pack_select"/>
    <panel classname="InstallPanel" id="install"/>
    <panel classname="FinishPanel" id="finish"/>
  </panels>
  <packs>
    <pack name="provconvert-libs" preselected="yes" required="yes">
      <description>provconvert jar dependencies.</description>
      <fileset dir="repo" targetdir="$INSTALL_PATH/repo"/>
    </pack>
    <pack name="provconvert-exec" preselected="yes" required="yes">
      <description>provconvert binary.</description>
      <fileset dir="bin" targetdir="$INSTALL_PATH/bin"/>
      <executable targetfile="$INSTALL_PATH/bin/provconvert"
		  stage="never"
		  keep="true">
      </executable>

      <executable targetfile="/bin/ln"
		  stage="postinstall"
		  keep="true">
        <args>
          <arg value="-s"/>
          <arg value="$INSTALL_PATH/bin/provconvert"/>
          <arg value="/usr/local/bin/provconvert"/>
        </args>
      </executable>
    </pack>
  </packs>
</installation>
